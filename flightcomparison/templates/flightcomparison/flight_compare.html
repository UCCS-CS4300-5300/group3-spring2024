{% extends 'flightcomparison/flight_search.html' %}

{% block flightSearch %}
<h2>Comparing Flights</h2>
<table>
    <tr>
        <th>Flight</th>
        <th>Departure Location</th>
        <th>Arrival Location</th>
        <th>Departure Time</th>
        <th>Arrival Time</th>
        <th>Price</th>
        <th>Airline</th>
    </tr>
    <tr>
        <th>Flight 1</th>
        <th>{{flight1.departure_location}}</th>
        <th>{{flight1.arrival_location}}</th>
        <!--Departure time-->
        {% if sort == 'earlydepart' %}
            {% if flight2.departure_time > flight1.departure_time %}
                <th class="compareHighlight">{{flight1.departure_time}}</th>
            {% else %}
                <th>{{flight1.departure_time}}</th>
            {% endif %}
        {% elif sort == 'latestdepart' %}
            {% if flight2.departure_time < flight1.departure_time %}
            <th class="compareHighlight">{{flight1.departure_time}}</th>
            {% else %}
                <th>{{flight1.departure_time}}</th>
            {% endif %}
        {% else %}
        <th>{{flight1.departure_time}}</th>
        {% endif %}
        <!--Arrival time-->
        {% if sort == 'earlyarrival' %}
            {% if flight1.arrival_time < flight2.arrival_time %}
            <th class="compareHighlight">{{flight1.arrival_time}}</th>
            {% else %}
            <th>{{flight1.arrival_time}}</th>
            {% endif %}
        {% elif sort == 'latestarrival' %}
            {% if flight1.arrival_time > flight2.arrival_time %}
            <th class="compareHighlight">{{flight1.arrival_time}}</th>
            {% else %}
            <th>{{flight1.arrival_time}}</th>
            {% endif %}
        {% else %}
        <th>{{flight1.arrival_time}}</th>
        {% endif %}
        <!--Price-->
        {% if sort == 'price' %} 
            {% if flight2.price > flight1.price %}
            <th class="compareHighlight">${{flight1.price}}</th> 
            {% else %} 
            <th>${{flight1.price}}</th> 
            {% endif %}
        {% else %}
            <th>${{flight1.price}}</th>
        {% endif %}
        <!--Airline-->
        <th>United</th>
    </tr>
    <tr>
        <th>Flight 2</th>
        <th>{{flight2.departure_location}}</th>
        <th>{{flight2.arrival_location}}</th>
        <!--Departure Time-->
        {% if sort == 'earlydepart' %}
            {% if flight2.departure_time < flight1.departure_time %}
                <th class="compareHighlight">{{flight2.departure_time}}</th>
            {% else %}
                <th>{{flight2.departure_time}}</th>
            {% endif %}
        {% elif sort == 'latestdepart' %}
            {% if flight2.departure_time > flight1.departure_time %}
            <th class="compareHighlight">{{flight2.departure_time}}</th>
            {% else %}
                <th>{{flight2.departure_time}}</th>
            {% endif %}
        {% else %}
        <th>{{flight2.departure_time}}</th>
        {% endif %}
        <!--Arrival Time-->
        {% if sort == 'earlyarrival' %}
            {% if flight1.arrival_time > flight2.arrival_time %}
            <th class="compareHighlight">{{flight2.arrival_time}}</th>
            {% else %}
            <th>{{flight2.arrival_time}}</th>
            {% endif %}
        {% elif sort == 'latestarrival' %}
            {% if flight1.arrival_time < flight2.arrival_time %}
            <th class="compareHighlight">{{flight2.arrival_time}}</th>
            {% else %}
            <th>{{flight2.arrival_time}}</th>
            {% endif %}
        {% else %}
        <th>{{flight2.arrival_time}}</th>
        {% endif %}
        <!--Price-->
        {% if sort == 'price' %} 
            {% if flight2.price < flight1.price %}
            <th style="background-color: green; color: white;">${{flight2.price}}</th> 
            {% else %} 
            <th>${{flight2.price}}</th> 
            {% endif %}
        {% else %}
            <th>${{flight2.price}}</th>
        {% endif %} 
        <th>United</th>
    </tr>
</table>
<!--Insert map comparing locations here-->
{% endblock %}